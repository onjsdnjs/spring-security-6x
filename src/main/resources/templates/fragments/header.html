<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.tailwindcss.com"></script>
<script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    'app-primary': '#3f51b5',      // 예: Indigo 600 (주요 브랜드 색상, 품격있는 파랑)
                    'app-primary-dark': '#303f9f', // 예: Indigo 700
                    'app-secondary': '#455a64',    // 예: Blue Gray 700 (차분한 보조색, 사이드바 등)
                    'app-accent': '#2196f3',       // 예: Blue 500 (포인트 색상: 버튼, 링크, 아이콘)
                    'app-accent-hover': '#1976d2', // 예: Blue 700
                    'app-light-gray': '#f3f4f6',   // Tailwind gray-100 (페이지 전체 배경)
                    'app-dark-gray': '#374151',    // Tailwind gray-700 (기본 텍스트)
                    'app-border': '#d1d5db',       // Tailwind gray-300 (테두리)
                    'app-input-focus-border': '#60a5fa', // Tailwind blue-400 (입력 필드 포커스)
                    'error': '#ef4444',            // Tailwind red-500 (오류 메시지, 아이콘)
                    'success': '#22c55e',          // Tailwind green-500 (성공 메시지, 아이콘)
                    'info': '#3b82f6'              // Tailwind blue-500 (정보 메시지, 아이콘)
                },
                fontFamily: {
                    sans: ['Inter', 'ui-sans-serif', 'system-ui', '-apple-system', 'BlinkMacSystemFont', '"Segoe UI"', 'Roboto', '"Helvetica Neue"', 'Arial', '"Noto Sans"', 'sans-serif', '"Apple Color Emoji"', '"Segoe UI Emoji"', '"Segoe UI Symbol"', '"Noto Color Emoji"'],
                }
            }
        }
    }
</script>
<div th:fragment="header">
    <header class="bg-app-secondary text-white shadow-lg">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16">
            <h1 class="text-xl font-semibold tracking-tight">
                <a th:href="@{/}" class="hover:text-app-accent transition-colors">Security Auth Platform</a>
            </h1>
            <div class="header-actions space-x-3">
                <a id="home" th:href="@{/}" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-app-primary-dark hover:text-white transition-colors">Home</a>

                <th:block th:if="${authMode == 'cookie'}">
                    <a id="loginLink" sec:authorize="isAnonymous()" th:href="@{/loginForm}" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-app-primary-dark hover:text-white transition-colors">로그인</a>
                    <a id="registerLink" sec:authorize="isAnonymous()" th:href="@{/register}" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-app-primary-dark hover:text-white transition-colors">회원가입</a>
                    <a id="logoutLink" sec:authorize="isAuthenticated()" href="#" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-app-primary-dark hover:text-white transition-colors">로그아웃</a>
                </th:block>

                <th:block th:if="${authMode != 'cookie'}">
                    <a id="loginLink" th:href="@{/loginForm}" style="display:none" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-app-primary-dark hover:text-white transition-colors">로그인</a>
                    <a id="registerLink" th:href="@{/register}" style="display:none" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-app-primary-dark hover:text-white transition-colors">회원가입</a>
                    <a id="logoutLink" href="#" style="display:none" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-app-primary-dark hover:text-white transition-colors">로그아웃</a>
                </th:block>
            </div>
        </div>
    </header>
    <script th:src="@{/js/logout.js}"></script>
</div>
<!-- CSRF 메타 태그 -->
<th:block th:if="${_csrf != null}">
    <meta name="_csrf" th:content="${_csrf.token}" />
    <meta name="_csrf_header" th:content="${_csrf.headerName}" />
</th:block>

